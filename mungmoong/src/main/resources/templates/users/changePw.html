<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{/layouts/login_layout}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.101.0">
    <title>로그인 - 댕댕이</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/findId.css">
    <meta name="csrf-token" th:content="${_csrf.token}"/>
    <meta name="csrf-header-name" th:content="${_csrf.headerName}"/>
</head><body layout:fragment="content">
    <div class="container">
        <form id="form" method="post" action="/users/resetPw">
        <div id="비밀번호" class="tab-content">
            <input type="hidden"  name="userId" th:value="${userId}"/>
            <input type="hidden"  name="mail" th:value="${mail}"/>
            <input type="hidden" id="password" name="password" th:value="${password}">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
            <div class="form-group text-left">
               <h3 style="text-align: left; color: cornflowerblue;">비밀번호 재설정</h3> 
               </p>
                <p style="text-align: left"> 비밀번호를 변경해주세요.</p>
            </div>
                <div class="form-group text-center">
                    <input type="password" class="form-control" placeholder="새로운 비밀번호"  id="new-password"> 
                </div>
                <div class="form-group text-center">
                    <input type="password" class="form-control" placeholder="새로운 비밀번호 재확인" id="confirm-password">
                </div>
                <button type="button"class="btn btn-primary w-100" style="background-color: #BAD5F3;"  onclick="resetPassword()" >비밀번호 확인</button>
               
                <div class="form-group text-left">
                    <p style="text-align: left;">• 영문, 숫자, 특수문자를 함께 사용하여 8자 이상으로 <br>입력해 주세요.</p>
                </div>
                <button type="submit"class="btn btn-primary w-100" id="submit-btn" style="background-color: #BAD5F3;" onclick="submitForm()" disabled>다음</button>
            </div>
         </form>
    </div>

       
    <script>
        function openTab(evt, tabName) {
            var i, tabcontent, tabbuttons;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tabbuttons = document.getElementsByClassName("tab-button");
            for (i = 0; i < tabbuttons.length; i++) {
                tabbuttons[i].className = tabbuttons[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }
        function resetPassword() {
            // 비밀번호 재설정 로직 추가
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            const passwordField = document.getElementById('password');
            const submitButton = document.getElementById('submit-btn');

            if (newPassword === confirmPassword) {
                // 비밀번호 일치, 숨겨진 필드에 값 설정 후 폼 전송
                passwordField.value = newPassword;
                alert('비밀번호가 일치합니다.')
                submitButton.disabled = false; // 다음 버튼 활성화
         
            } else {
                alert('비밀번호가 일치하지 않습니다.');
                submitButton.disabled = true; // 다음 버튼 비활성화
            }
        }

        function submitForm() {
          alert("비밀번호가 변경되었습니다.")
        }

       
    </script>

</body>
</html>
